# 更新日志

## [1.0.0] - 2024-12-02

### 🎉 首次发布

**核心功能**：

#### 1. 智能翻译查看
- ✅ 鼠标悬停显示多语言翻译
- ✅ 只识别特定函数调用中的字符串
- ✅ 支持15个内置常用函数
- ✅ 翻译内容绿色高亮显示
- ✅ 支持多行文本和富文本标签

#### 2. 中文反向查找（⭐ 特色功能）
- ✅ 悬停中文字符串，自动显示对应的翻译key
- ✅ 使用编辑距离算法智能排序
- ✅ 显示完整翻译内容，便于判断
- ✅ 一键快速替换，支持连续替换
- ✅ 自动保留原有引号类型

#### 3. 强制查找模式
- ✅ 快捷键 `Ctrl+Shift+H` 切换模式
- ✅ 查找任意字符串的翻译
- ✅ 状态栏实时显示当前模式
- ✅ 黄色背景提示强制模式

#### 4. 三元表达式支持
- ✅ 智能识别三元表达式中的key
- ✅ 支持单行和多行三元表达式
- ✅ 支持嵌套三元表达式

#### 5. 高级特性
- ✅ 缺失翻译警告提示
- ✅ 支持纯数字key（游戏项目）
- ✅ 支持横线和点号（`btn-ok`, `ui.main.menu`）
- ✅ 热加载翻译文件
- ✅ 高度可配置

### 🎨 用户体验

- 🎨 醒目的绿色翻译显示
- 📊 状态栏实时模式显示
- 🔄 流畅的替换体验
- 💡 智能的中文识别
- ⚡ 快速的响应速度

### 🐛 修复的问题

#### 1. Loading 问题
- 修复了翻译提示底部持续显示 "Loading..." 的问题
- 原因：HTML特殊字符和富文本标签未转义
- 解决：添加 `markdown.isTrusted = true` 和字符转义

#### 2. 连续替换问题
- 修复了连续点击替换时字符串叠加的bug
- 原因：使用了固定的位置信息
- 解决：每次替换时动态重新查找字符串位置

#### 3. 中文反向查找触发条件
- 修复了在函数中的中文字符串无法触发反向查找的问题
- 优化：只在函数调用中且字符串为中文时触发

### 📚 文档

- ✅ 完整的 README.md
- ✅ 详细的配置指南（CONFIGURATION.md）
- ✅ 快速上手指南（快速上手.md）
- ✅ 快捷键配置指南
- ✅ 中文反向查找指南
- ✅ 强制查找模式指南
- ✅ 完整的测试用例

### 🎮 支持的语言

- JavaScript / TypeScript
- C#
- Java
- Python

### ⚙️ 默认配置

```json
{
  "i18nHover.enabled": true,
  "i18nHover.translationFilePath": "",
  "i18nHover.keyPattern": "^[a-zA-Z0-9_][a-zA-Z0-9_.-]*$",
  "i18nHover.additionalPatterns": [],
  "i18nHover.functionPatterns": [
    "Language\\.GetContent\\s*\\([^\"']*$",
    "Language\\.Get\\s*\\([^\"']*$",
    "GameUtil\\.ShowTips\\s*\\([^\"']*$",
    "Localization\\.Get\\s*\\([^\"']*$",
    "I18n\\.Translate\\s*\\([^\"']*$",
    "i18n\\.get\\s*\\([^\"']*$",
    "i18n\\.t\\s*\\([^\"']*$",
    "translate\\s*\\([^\"']*$",
    "t\\s*\\([^\"']*$",
    "getString\\s*\\([^)]*,\\s*[^\"']*$",
    "NSLocalizedString\\s*\\([^\"']*$",
    "UIManager\\.SetText\\s*\\([^\"']*$",
    "TipsManager\\.Show\\s*\\([^\"']*$",
    "UIManager\\.ShowMessage\\s*\\([^\"']*$",
    "NotificationSystem\\.Push\\s*\\([^\"']*$"
  ]
}
```

### 🔜 未来计划

- [ ] 支持更多语言（Go, Rust, PHP等）
- [ ] 翻译文件格式支持（JSON, YAML等）
- [ ] 批量替换功能
- [ ] 翻译缺失检测报告
- [ ] 翻译编辑功能
- [ ] 多语言切换预览

### 🙏 感谢

感谢所有测试用户的反馈和建议！

---

## 如何更新

在 VS Code 中，扩展会自动更新。也可以手动检查更新：

1. 打开扩展面板（`Ctrl+Shift+X`）
2. 搜索 "i18n Hover Translator"
3. 点击"更新"按钮

---

**如有问题或建议，欢迎提交 Issue！**

